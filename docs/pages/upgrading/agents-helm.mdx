---
title: Upgrading Teleport Agents on Kubernetes
description: Explains how to upgrade Teleport agents running on Kubernetes.
---

This guide explains how to upgrade Teleport agents running on Kubernetes using a
manual approach. 

An agent is a `teleport` binary that runs services other than the Auth Service
and Proxy Service, and proxies resources in your infrastructure. Examples
include the Teleport SSH Service and Teleport Database Service. (For more
information on agents, read the [Teleport Agents](../agents/introduction.mdx)
documentation.)

## Prerequisites

- Familiarity with the [Upgrading Compatibility Overview](./overview.mdx) guide,
  which describes the sequence in which to upgrade components of your cluster.
- A running Teleport cluster with at least one agent deployed using the
  `teleport-kube-agent` Helm chart. 

This guide assumes that you have configured the `teleport-kube-agent` Helm chart
with a values file called `values.yaml`, and that your release is called
`teleport-agent`.

## Upgrade your `teleport-kube-agent` Helm release

Run the following commands to upgrade Teleport agents running on Kubernetes.

1. Update the Teleport Helm chart repository so you can install the latest
   version of the `teleport-kube-agent` chart:

  (!docs/pages//kubernetes-access/helm/includes/helm-repo-add.mdx!)

1. Upgrade the Helm release:

  ```code
  $ helm upgrade teleport-agent teleport-kube-agent --version=(=teleport.version=) --values=values.yaml
  ```

## Next steps

We recommend that Teleport users set up automatic agent upgrades, where agents
query a **version server** in order to determine whether they are out of date
and need to install a new version of Teleport. Read one of the following guides
to set up automatic agent upgrades:

- [Self-hosted Teleport clusters](./upgrading//self-hosted-automatic-agent-updates.mdx)
- [Teleport Cloud](./upgrading//enroll-agent-into-automatic-updates.mdx)

